<div class="center cenrer-block">
  <div id="storecommit" class="service-price">
    <div class="box-content">
      <h2 class="content-h2">口コミ</h2>
      <% flash.each do |message_type, msg| %>
        <div class="mt-4 alert alert-<%= message_type %>"><%= msg %></div>
      <% end %>
      <h3 class="review-title"><%= User.find(Review.find(params[:id]).user_id).name %>さんの口コミ編集</h3>
      <div class="rating-box">
        <%= form_with model: @review, url: user_store_review_update_path, method: :patch, local: true do |f|  %>

          <%= f.hidden_field :store_id, id: @store.id %>
          <%= f.hidden_field :user_id, value: current_user.id %>

          <!-- 評価 -->
          <div class="evaluation-form">
            <%= f.label :rate, "評価" %>
            <span class="review" id="star">
              <%= f.hidden_field :rate, id: :review_star %>
            </span>
          </div>

          <div class="form-group row">
            <%= f.label :title, "タイトル", class: "col-sm-2 col-form-label" %>
            <div class="col-sm-10">
              <%= f.text_field :title, class: "form-control", placeholder: "1~30文字で入力して下さい" %>
            </div>
          </div>

          <!-- レビュー内容 -->
          <div class="form-group row">
            <%= f.label :content, "レビュー内容", class: "col-sm-2 col-form-label" %>
            <div class="col-sm-10">
              <%= f.text_area :content, class: "form-control", placeholder: "1~300文字で入力してください" %>
            </div>
          </div>
          <%= f.submit '口コミを編集する', class: "review-update-btn" %>
        <% end %>
      </div>
      <div class="return-show-page-btn"><%= link_to "←戻る", user_store_review_show_path(@store.id) %></div>
    </div>
  </div>
</div>
<%= render 'layouts/raty.html.erb' %>
<script>
$(function () {
  $('#star').raty({　　　
    size: 36,
    starOff: "/assets/star-off.png",
    starOn: "/assets/star-on.png",
    starHalf: "/assets/star-half.png",
    scoreName: "review[rate]",
  });
});
</script>
